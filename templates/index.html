{% extends 'base.html' %}

{% block content %}
<form enctype="multipart/form-data" method="post" class="input_form">

    <p class="button_container">
        <input type="file" id="in_file" name="file" style="visibility: hidden; opacity: 0; position: absolute;" onchange="displayImage(this)"/>
        <label for="in_file" class="buttons-vertical"> Выберите файл </label>
    </p>
    <p class="button_container">
        <input type="submit" value="Отправить" class="buttons-vertical" />
    </p>

    <div class="main_div">
        <img id="preview" src="{{ img }}" class="main_img"/>
        <p>
            <h1>{{ result }}</h1>
        </p>
    </div>

</form>



<script>

function displayImage(input){
    const file = input.files[0];
    const imageURL = URL.createObjectURL(file);
    document.getElementById('preview').src = imageURL;
    document.getElementById('preview').onload = () => URL.revokeObjectURL(imageURL);
}
</script>
{% endblock %}